(global.webpackJsonp=global.webpackJsonp||[]).push([["pages/mys/authentication/authentication"],{145:
/*!******************************************************************************!*\
  !*** ./src/main.js?{"page":"pages%2Fmys%2Fauthentication%2Fauthentication"} ***!
  \******************************************************************************/
/*! no static exports found */function(t,i,e){"use strict";(function(t){e(/*! uni-pages */4);i(e(/*! vue */2));function i(t){return t&&t.__esModule?t:{default:t}}t(i(e(/*! ./pages/mys/authentication/authentication.vue */146)).default)}).call(this,e(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1).createPage)},146:
/*!*********************************************************!*\
  !*** ./src/pages/mys/authentication/authentication.vue ***!
  \*********************************************************/
/*! no static exports found */function(t,i,e){"use strict";e.r(i);var n=e(/*! ./authentication.vue?vue&type=template&id=0a38edd3& */147),a=e(/*! ./authentication.vue?vue&type=script&lang=js& */149);for(var s in a)"default"!==s&&function(t){e.d(i,t,function(){return a[t]})}(s);e(/*! ./authentication.vue?vue&type=style&index=0&lang=scss& */157);var r=e(/*! ../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */24),u=Object(r.default)(a.default,n.render,n.staticRenderFns,!1,null,null,null);u.options.__file="src/pages/mys/authentication/authentication.vue",i.default=u.exports},147:
/*!****************************************************************************************!*\
  !*** ./src/pages/mys/authentication/authentication.vue?vue&type=template&id=0a38edd3& ***!
  \****************************************************************************************/
/*! exports provided: render, staticRenderFns */function(t,i,e){"use strict";e.r(i);var n=e(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--15-0!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../node_modules/vue-loader/lib??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./authentication.vue?vue&type=template&id=0a38edd3& */148);e.d(i,"render",function(){return n.render}),e.d(i,"staticRenderFns",function(){return n.staticRenderFns})},148:
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--15-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./src/pages/mys/authentication/authentication.vue?vue&type=template&id=0a38edd3& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(t,i,e){"use strict";e.r(i),e.d(i,"render",function(){return n}),e.d(i,"staticRenderFns",function(){return a});var n=function(){var t=this.$createElement;this._self._c},a=[];n._withStripped=!0},149:
/*!**********************************************************************************!*\
  !*** ./src/pages/mys/authentication/authentication.vue?vue&type=script&lang=js& ***!
  \**********************************************************************************/
/*! no static exports found */function(t,i,e){"use strict";e.r(i);var n=e(/*! -!../../../../node_modules/babel-loader/lib!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/vue-loader/lib??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./authentication.vue?vue&type=script&lang=js& */150),a=e.n(n);for(var s in n)"default"!==s&&function(t){e.d(i,t,function(){return n[t]})}(s);i.default=a.a},150:
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./src/pages/mys/authentication/authentication.vue?vue&type=script&lang=js& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,i,e){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n,a=(n=e(/*! @/common/ossutil/uploadFile.js */151))&&n.__esModule?n:{default:n};var s={data:function(){return{isWrapShow:!1,nickname:"",realName:"",shopName:"",phone:"",detailedAddress:"",type:"会员认证",sex:"男",address:"请选择",city:[],sexArray:[{name:"男"},{name:"女"}],sexIndex:0,typeArray:[{name:"会员认证"},{name:"店铺认证"}],typeIndex:0,multiIndex:[0,0,0,0],multiArray:[[],[],[]],userIdImg:[{id:0,msg:"userIdImg",img:"https://meizi.manogue.com.cn/static/wap/images/camera.png"},{id:1,msg:"userIdImg",img:"https://meizi.manogue.com.cn/static/wap/images/camera.png"}],shopImg:[{id:0,msg:"shopImg",img:"https://meizi.manogue.com.cn/static/wap/images/camera.png"},{id:1,msg:"shopImg",img:"https://meizi.manogue.com.cn/static/wap/images/camera.png"}],authStatus:20013,authMessage:"信息不全"}},onLoad:function(){var t=this;this.watchCity("",1).then(function(i){t.multiArray.splice(0,1,i),t.multiArray[0].unshift({name:"请选择"})}),this.$request.GET({url:this.$api.apiUrl.GET_USER_AUTH_STATUS}).then(function(i){t.authStatus=i.code,i.data.message&&(t.authMessage=i.data.message)})},onShow:function(){this.navToLogin()},methods:{bindPickerChange:function(t){this.typeIndex=t.target.value,this.type=this.typeArray[this.typeIndex].name},bindSexChange:function(t){this.sexIndex=t.target.value,this.sex=this.sexArray[this.sexIndex].name},watchCity:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.$request.POST({url:this.$api.apiUrl.POST_GET_CITY,data:{id:t,level:i}}).then(function(t){if(t.data.length)return t.data})},bindMultiPickerColumnChange:function(t){var i=this;switch(t.detail.column){case 0:t.detail.value>0&&this.watchCity(this.multiArray[0][t.detail.value].id).then(function(t){t&&(i.multiArray.splice(1,1,t),i.multiArray[1].unshift({name:"请选择"}))}),this.multiArray[2]=[],this.multiIndex=[t.detail.value,0,0,0];break;case 1:t.detail.value>0&&this.watchCity(this.multiArray[1][t.detail.value].id).then(function(t){t&&(i.multiArray.splice(2,1,t),i.multiArray[2].unshift({name:"请选择"}))}),this.multiIndex=[this.multiIndex[0],t.detail.value,0,0];break;case 2:t.detail.value>0&&this.watchCity(this.multiArray[2][t.detail.value].id).then(function(t){})}},regionalChoice:function(t){var i=t.detail.value,e="";this.city=[];for(var n=0;n<i.length;n++){var a=i[n];a&&(e+=this.multiArray[n][a].name,this.city.push(this.multiArray[n][a].id))}this.address=e},submit:function(){var i=this;if(!/^[\u4E00-\u9FA5]{1,6}$/.test(this.realName))return this.$api.msg("请输入中文姓名"),!1;if(!/^(((13[0-9]{1})|(14[0-9]{1})|(17[0-9]{1})|(15[0-3]{1})|(15[5-9]{1})|(18[0-9]{1})|(19[0-9]{1}))+\d{8})$/.test(this.phone))return this.$api.msg("请输入正确的手机号码"),!1;if(!this.shopName&&"店铺认证"===this.type)return this.$api.msg("请填写店铺名称"),!1;if(this.city.length<3)return this.$api.msg("请选择完整地址"),!1;if(!this.detailedAddress)return this.$api.msg("请填写详细地址"),!1;if(!this.nickname)return this.$api.msg("请填写昵称"),!1;if("店铺认证"===this.type){if(-1!==this.userIdImg.concat(this.shopImg).findIndex(function(t){return"https://meizi.manogue.com.cn/static/wap/images/camera.png"===t.img}))return this.$api.msg("请将图片上传齐全"),!1}else if("会员认证"===this.type){if(-1!==this.userIdImg.findIndex(function(t){return"https://meizi.manogue.com.cn/static/wap/images/camera.png"===t.img}))return this.$api.msg("请将图片上传齐全"),!1}this.$request.GET({url:this.$api.apiUrl.GET_USER_INFO}).then(function(e){t.showLoading({title:"正在提交信息",mask:!0});var n={id:e.data.id,type:"店铺认证"===i.type?2:1,username:i.realName,phone:i.phone,area_ids:i.city.join(","),address:i.detailedAddress,nickname:i.nickname,sex:"男"===i.sex?1:2,auth_pic:i.computImg};"店铺认证"===i.type&&(n.store_name=i.shopName),i.$request.POST({url:i.$api.apiUrl.POST_USER_AUTHENTICATION,data:n}).then(function(e){t.hideLoading(),200===e.errCode?t.showToast({title:e.errMsg,success:function(){i.authStatus=20011}}):i.$api.msg(e.errMsg)})})},choiceImg:function(i){var e=this;t.chooseImage({count:1,success:function(n){n.tempFilePaths;for(var s=0;s<n.tempFilePaths.length;s++)t.showLoading({mask:!0}),(0,a.default)(n.tempFilePaths[s],"small_program/",function(n){e.$set(e[i.msg][i.id],"img",n),t.hideLoading()},function(t){e.$api.msg(t)})}})},setAuthStatus:function(){this.authStatus=20013},toIndex:function(){t.switchTab({url:"/pages/indexs/index/index"})},navToLogin:function(){var i=this,e=t.getStorageSync("access_token");this.isWrapShow?e||t.switchTab({url:"/pages/indexs/index/index",success:function(){i.isWrapShow=!1}}):e?this.isWrapShow=!0:t.navigateTo({url:"/pages/mys/login/login",success:function(){i.isWrapShow=!0}})}},computed:{computImg:function(){return"店铺认证"===this.type?this.userIdImg.concat(this.shopImg).map(function(t){return t.img}).join("|"):this.userIdImg.map(function(t){return t.img}).join("|")}}};i.default=s}).call(this,e(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1).default)},157:
/*!*******************************************************************************************!*\
  !*** ./src/pages/mys/authentication/authentication.vue?vue&type=style&index=0&lang=scss& ***!
  \*******************************************************************************************/
/*! no static exports found */function(t,i,e){"use strict";e.r(i);var n=e(/*! -!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-1!../../../../node_modules/css-loader??ref--8-oneOf-1-2!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!../../../../node_modules/vue-loader/lib??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./authentication.vue?vue&type=style&index=0&lang=scss& */158),a=e.n(n);for(var s in n)"default"!==s&&function(t){e.d(i,t,function(){return n[t]})}(s);i.default=a.a},158:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-1!./node_modules/css-loader??ref--8-oneOf-1-2!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./src/pages/mys/authentication/authentication.vue?vue&type=style&index=0&lang=scss& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,i,e){}},[[145,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/pages/mys/authentication/authentication.js.map