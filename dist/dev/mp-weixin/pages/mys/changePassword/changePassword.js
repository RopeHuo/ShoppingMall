(global.webpackJsonp=global.webpackJsonp||[]).push([["pages/mys/changePassword/changePassword"],{189:
/*!******************************************************************************!*\
  !*** ./src/main.js?{"page":"pages%2Fmys%2FchangePassword%2FchangePassword"} ***!
  \******************************************************************************/
/*! no static exports found */function(t,e,s){"use strict";(function(t){s(/*! uni-pages */4);e(s(/*! vue */2));function e(t){return t&&t.__esModule?t:{default:t}}t(e(s(/*! ./pages/mys/changePassword/changePassword.vue */190)).default)}).call(this,s(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1).createPage)},190:
/*!*********************************************************!*\
  !*** ./src/pages/mys/changePassword/changePassword.vue ***!
  \*********************************************************/
/*! no static exports found */function(t,e,s){"use strict";s.r(e);var n=s(/*! ./changePassword.vue?vue&type=template&id=0775d973& */191),r=s(/*! ./changePassword.vue?vue&type=script&lang=js& */193);for(var i in r)"default"!==i&&function(t){s.d(e,t,function(){return r[t]})}(i);s(/*! ./changePassword.vue?vue&type=style&index=0&lang=scss& */195);var a=s(/*! ../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */24),o=Object(a.default)(r.default,n.render,n.staticRenderFns,!1,null,null,null);o.options.__file="src/pages/mys/changePassword/changePassword.vue",e.default=o.exports},191:
/*!****************************************************************************************!*\
  !*** ./src/pages/mys/changePassword/changePassword.vue?vue&type=template&id=0775d973& ***!
  \****************************************************************************************/
/*! exports provided: render, staticRenderFns */function(t,e,s){"use strict";s.r(e);var n=s(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--15-0!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../node_modules/vue-loader/lib??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./changePassword.vue?vue&type=template&id=0775d973& */192);s.d(e,"render",function(){return n.render}),s.d(e,"staticRenderFns",function(){return n.staticRenderFns})},192:
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--15-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./src/pages/mys/changePassword/changePassword.vue?vue&type=template&id=0775d973& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */function(t,e,s){"use strict";s.r(e),s.d(e,"render",function(){return n}),s.d(e,"staticRenderFns",function(){return r});var n=function(){var t=this.$createElement;this._self._c},r=[];n._withStripped=!0},193:
/*!**********************************************************************************!*\
  !*** ./src/pages/mys/changePassword/changePassword.vue?vue&type=script&lang=js& ***!
  \**********************************************************************************/
/*! no static exports found */function(t,e,s){"use strict";s.r(e);var n=s(/*! -!../../../../node_modules/babel-loader/lib!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/vue-loader/lib??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./changePassword.vue?vue&type=script&lang=js& */194),r=s.n(n);for(var i in n)"default"!==i&&function(t){s.d(e,t,function(){return n[t]})}(i);e.default=r.a},194:
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./src/pages/mys/changePassword/changePassword.vue?vue&type=script&lang=js& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,s){"use strict";(function(t){function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,n)}return s}function r(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(s,!0).forEach(function(e){i(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}function i(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=(0,s(/*! vuex */6).createNamespacedHelpers)("storeCommodity"),o=a.mapState,u={data:function(){return r({originalPassword:"",salesman:!1,username:"",isBtn:!1,btnTxt:"获取验证码",password:"",confirmPassword:"",code:""},o(["isLogin"]))},onLoad:function(t){t.phone&&(this.username=t.phone)},onShow:function(){var t=this;this.$request.GET({url:this.$api.apiUrl.GET_USER_INFO}).then(function(e){"salesman"!==e.data.rule?t.salesman=!1:t.salesman=!0})},methods:r({},(0,a.mapMutations)(["LOGIN"]),{getCode:function(){var e=this;if(!/^(((13[0-9]{1})|(14[0-9]{1})|(17[0-9]{1})|(15[0-3]{1})|(15[5-9]{1})|(18[0-9]{1})|(19[0-9]{1}))+\d{8})$/.test(this.username))return this.$api.msg("输入正确的手机号"),!1;this.$request.POST({url:this.$api.apiUrl.POST_SMS_GETCODE,data:{phone:this.username}}).then(function(s){200===s.errCode?(t.showToast({title:s.errMsg}),e.codeDisabled()):e.$api.msg(s.errMsg)})},codeDisabled:function(){var t=this;this.isBtn=!0;var e=60,s=setInterval(function(){e>0?t.btnTxt=e--+"秒后":(t.isBtn=!1,t.btnTxt="重新发送",e=60,clearInterval(s))},1e3)},passwordIdentical:function(){return/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,16}$/.test(this.password)?this.password===this.confirmPassword||(this.$api.msg("你输入的密码不相同,请核实"),!1):(this.$api.msg("密码需在6-16位数字和字母的组合"),!1)},submit:function(){var e=this;this.passwordIdentical()&&this.$request.POST({url:this.$api.apiUrl.POST_SMS_CHECK,data:{code:this.code,phone:this.username}}).then(function(s){200===s.errCode?e.$request.POST({url:e.$api.apiUrl.POST_USER_REPASS,data:{phone:e.username,password:e.password,repassword:e.confirmPassword}}).then(function(s){1===s.errCode?t.showToast({title:s.errMsg,success:function(){e.userLogin()}}):e.$api.msg("更改失败,不能与当前使用密码相同")}):e.$api.msg(s.errMsg)})},userLogin:function(){var e=this;this.$request.POST({url:this.$api.apiUrl.POST_USER_LOGIN,data:{username:this.username,password:this.password}}).then(function(s){200===s.code?t.setStorage({key:"access_token",data:s.data,success:function(){Promise.all([e.LOGIN({isLogin:!e.isLogin()})]).then(function(){t.showToast({title:s.msg}),t.switchTab({url:"/pages/mys/user/user"})})},fail:function(){t.showToast({title:"Token设置失败，请自行登录",success:function(){t.switchTab({url:"/pages/mys/login/login"})}})}}):e.$api.msg(s.msg)})},staffSubmit:function(){var e=this;if(!this.originalPassword)return this.$api.msg("请输入原密码"),!1;this.passwordIdentical()&&this.$request.POST({url:this.$api.apiUrl.POST_V6_PARTNER_CHANGEPASSWORD,data:{oldpassword:this.originalPassword,password:this.password,repassword:this.confirmPassword}}).then(function(s){"SECCUSS"===s.code?t.showToast({title:s.msg,success:function(){t.switchTab({url:"/pages/mys/user/user"})}}):e.$api.msg(s.msg)})}})};e.default=u}).call(this,s(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1).default)},195:
/*!*******************************************************************************************!*\
  !*** ./src/pages/mys/changePassword/changePassword.vue?vue&type=style&index=0&lang=scss& ***!
  \*******************************************************************************************/
/*! no static exports found */function(t,e,s){"use strict";s.r(e);var n=s(/*! -!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-1!../../../../node_modules/css-loader??ref--8-oneOf-1-2!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!../../../../node_modules/vue-loader/lib??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./changePassword.vue?vue&type=style&index=0&lang=scss& */196),r=s.n(n);for(var i in n)"default"!==i&&function(t){s.d(e,t,function(){return n[t]})}(i);e.default=r.a},196:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-1!./node_modules/css-loader??ref--8-oneOf-1-2!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./src/pages/mys/changePassword/changePassword.vue?vue&type=style&index=0&lang=scss& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,s){}},[[189,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/pages/mys/changePassword/changePassword.js.map