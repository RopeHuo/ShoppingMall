{"version":3,"sources":["webpack:///./src/components/UniNumberBox/UniNumberBox.vue?0dde","webpack:///./src/components/UniNumberBox/UniNumberBox.vue?b169","webpack:///./src/components/UniNumberBox/UniNumberBox.vue?bfbf","webpack:///./src/components/UniNumberBox/UniNumberBox.vue?06f0","webpack:///./src/components/UniNumberBox/UniNumberBox.vue","webpack:///./src/components/UniNumberBox/UniNumberBox.vue?9332"],"names":["component","options","__file","render","_h","this","$createElement","_self","_c","staticRenderFns","_withStripped","name","props","isMax","type","Boolean","default","isMin","index","Number","value","min","Infinity","max","step","disabled","data","inputValue","minDisabled","maxDisabled","created","computed","watch","number","$emit","methods","_calcValue","scale","_getDecimalScale","newValue","Math","pow","split","length","_onBlur","event","detail"],"mappings":";;;;2DAAA,6WAQIA,EAAY,kBACd,UACA,SACA,mBACA,EACA,KACA,KACA,MAuBFA,EAAUC,QAAQC,OAAS,+CACZ,UAAAF,E;;;;6ECvCf,ipB;;;;6ECAA,8FAAIG,EAAS,WACX,IACIC,EADMC,KACGC,eADHD,KAEGE,MAAMC,IAEjBC,EAAkB,GACtBN,EAAOO,eAAgB,G;;;;2DCNvB,0kBAA8hB,YAAG,G;;;;mICwBlhB,CACbC,KAAM,iBACNC,MAAO,CACLC,MAAO,CACLC,KAAMC,QACNC,SAAS,GAEXC,MAAO,CACLH,KAAMC,QACNC,SAAS,GAEXE,MAAO,CACLJ,KAAMK,OACNH,QAAS,GAEXI,MAAO,CACLN,KAAMK,OACNH,QAAS,GAEXK,IAAK,CACHP,KAAMK,OACNH,SAAUM,KAEZC,IAAK,CACHT,KAAMK,OACNH,QAASM,KAEXE,KAAM,CACJV,KAAMK,OACNH,QAAS,GAEXS,SAAU,CACRX,KAAMC,QACNC,SAAS,IAGbU,KApCa,WAqCX,MAAO,CACLC,WAAYtB,KAAKe,MACjBQ,aAAa,EACbC,aAAa,IAGjBC,QA3Ca,WA4CXzB,KAAKwB,YAAcxB,KAAKQ,MACxBR,KAAKuB,YAAcvB,KAAKY,OAE1Bc,SAAU,GAGVC,MAAO,CACLL,WADK,SACMM,GACT,IAAMP,EAAO,CACXO,SACAf,MAAOb,KAAKa,OAEdb,KAAK6B,MAAM,cAAeR,KAG9BS,QAAS,CACPC,WADO,SACItB,GACT,IAAMuB,EAAQhC,KAAKiC,mBACblB,EAAQf,KAAKsB,WAAaU,EAC5BE,EAAW,EACTf,EAAOnB,KAAKmB,KAAOa,EAEZ,aAATvB,IACFyB,EAAWnB,EAAQI,IACHnB,KAAKgB,MACnBhB,KAAKuB,aAAc,GAEjBW,EAAWlC,KAAKgB,MAClBkB,EAAWlC,KAAKgB,KAEdkB,EAAWlC,KAAKkB,MAA4B,IAArBlB,KAAKwB,cAC9BxB,KAAKwB,aAAc,IAEH,QAATf,KACTyB,EAAWnB,EAAQI,IACHnB,KAAKkB,MACnBlB,KAAKwB,aAAc,GAEjBU,EAAWlC,KAAKkB,MAClBgB,EAAWlC,KAAKkB,KAEdgB,EAAWlC,KAAKgB,MAA4B,IAArBhB,KAAKuB,cAC9BvB,KAAKuB,aAAc,IAGnBW,IAAanB,IAGjBf,KAAKsB,WAAaY,EAAWF,IAE/BC,iBAnCO,WAoCL,IAAID,EAAQ,EAKZ,QAHMhC,KAAKmB,OAASnB,KAAKmB,OACvBa,EAAQG,KAAKC,IAAI,GAAI,UAAIpC,KAAKmB,MAAQkB,MAAM,KAAK,GAAGC,SAE/CN,GAETO,QA3CO,SA2CCC,GAAO,IACPzB,EAAUyB,EAAMC,OAAhB1B,MACDA,IAILA,GAASA,GACGf,KAAKkB,IACfH,EAAQf,KAAKkB,IACJH,EAAQf,KAAKgB,MACtBD,EAAQf,KAAKgB,KAGfhB,KAAKsB,WAAaP,GAVhBf,KAAKsB,WAAa,K;;;;2DCjI1B,2uBAAwsB,YAAG,G","file":"components/UniNumberBox/UniNumberBox.js","sourcesContent":["import { render, staticRenderFns } from \"./UniNumberBox.vue?vue&type=template&id=768c00e2&\"\nimport script from \"./UniNumberBox.vue?vue&type=script&lang=js&\"\nexport * from \"./UniNumberBox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UniNumberBox.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/Rope/master/Desktop/mix-mall/cli_ShoppingMall/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('768c00e2')) {\n      api.createRecord('768c00e2', component.options)\n    } else {\n      api.reload('768c00e2', component.options)\n    }\n    module.hot.accept(\"./UniNumberBox.vue?vue&type=template&id=768c00e2&\", function () {\n      api.rerender('768c00e2', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/UniNumberBox/UniNumberBox.vue\"\nexport default component.exports","export * from \"-!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--15-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./UniNumberBox.vue?vue&type=template&id=768c00e2&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./UniNumberBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./UniNumberBox.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: 'uni-number-box',\n  props: {\n    isMax: {\n      type: Boolean,\n      default: false,\n    },\n    isMin: {\n      type: Boolean,\n      default: false,\n    },\n    index: {\n      type: Number,\n      default: 0,\n    },\n    value: {\n      type: Number,\n      default: 0,\n    },\n    min: {\n      type: Number,\n      default: -Infinity,\n    },\n    max: {\n      type: Number,\n      default: Infinity,\n    },\n    step: {\n      type: Number,\n      default: 1,\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      inputValue: this.value,\n      minDisabled: false,\n      maxDisabled: false,\n    };\n  },\n  created() {\n    this.maxDisabled = this.isMax;\n    this.minDisabled = this.isMin;\n  },\n  computed: {\n\n  },\n  watch: {\n    inputValue(number) {\n      const data = {\n        number,\n        index: this.index,\n      };\n      this.$emit('eventChange', data);\n    },\n  },\n  methods: {\n    _calcValue(type) {\n      const scale = this._getDecimalScale();\n      const value = this.inputValue * scale;\n      let newValue = 0;\n      const step = this.step * scale;\n\n      if (type === 'subtract') {\n        newValue = value - step;\n        if (newValue <= this.min) {\n          this.minDisabled = true;\n        }\n        if (newValue < this.min) {\n          newValue = this.min;\n        }\n        if (newValue < this.max && this.maxDisabled === true) {\n          this.maxDisabled = false;\n        }\n      } else if (type === 'add') {\n        newValue = value + step;\n        if (newValue >= this.max) {\n          this.maxDisabled = true;\n        }\n        if (newValue > this.max) {\n          newValue = this.max;\n        }\n        if (newValue > this.min && this.minDisabled === true) {\n          this.minDisabled = false;\n        }\n      }\n      if (newValue === value) {\n        return;\n      }\n      this.inputValue = newValue / scale;\n    },\n    _getDecimalScale() {\n      let scale = 1;\n      // 浮点型\n      if (~~this.step !== this.step) {\n        scale = Math.pow(10, (`${this.step}`).split('.')[1].length);\n      }\n      return scale;\n    },\n    _onBlur(event) {\n      let { value } = event.detail;\n      if (!value) {\n        this.inputValue = 0;\n        return;\n      }\n      value = +value;\n      if (value > this.max) {\n        value = this.max;\n      } else if (value < this.min) {\n        value = this.min;\n      }\n\n      this.inputValue = value;\n    },\n  },\n};\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./UniNumberBox.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./UniNumberBox.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}