{"version":3,"sources":["webpack:///./src/main.js","webpack:///./src/pages/goodss/product/product.vue?0648","webpack:///./src/pages/goodss/product/product.vue?83a0","webpack:///./src/pages/goodss/product/product.vue?af57","webpack:///./src/pages/goodss/product/product.vue?52cc","webpack:///./src/pages/goodss/product/product.vue","webpack:///./src/pages/goodss/product/product.vue?f75b"],"names":["createPage","Page","component","options","__file","render","_h","this","$createElement","_self","_c","staticRenderFns","_withStripped","createNamespacedHelpers","mapState","mapActions","data","specClass","specSelected","favorite","shareList","imgList","selected","popup","logoImg","name","salesPrice","specChildList","haveChosen","marketPrice","commodityInfo","title","first","disacount","third","supplyType","desc","isPopup","purchaseQuantity","isGoods","isGoodsTxt","forElection","commentListItem","isImmediately","components","Share","onLoad","goodsId","id","$request","GET","url","$api","apiUrl","GET_GOODS_INFO","then","res","code","result","slider_img","map","item","index","src","price","supply_type","goods_spec","logo_img","spec","purchasePrice","second","Object","keys","names","allName","itemId","content","replace","msg","GET_GOODS_COMMENT","page","length","uni","showShareMenu","withShareTicket","methods","toggleSpec","setTimeout","toggleSpecSpecial","findIsSelected","addCart","selectSpec","nameIndex","list","forEach","listIndex","item2","listIndex2","$set","resultArr","join","beDetectedArr","split","testingArr","arr1","arr2","newArr2","newArr1","filter","e","indexOf","concat","i","element","POST","POST_GOODS_STOCK","market_price","purchase_price","sales_price","stock","share","$refs","toggleMask","toFavorite","buy","stopPrevent","forward","changeQuantity","mathematicalSymbols","detectionValue","num","detail","value","test","immediately","navToLogin","GET_USER_AUTH_STATUS","find","POST_SAVE_CART","goods_id","spec_id","goods_num","is_page","showLoading","success","navigateTo","hideLoading","arr","k","element2","push","getStorageSync","toEvaluatePage"],"mappings":"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","file":"pages/goodss/product/product.js","sourcesContent":["import 'uni-pages';\n\nimport Vue from 'vue'            \nimport Page from './pages/goodss/product/product.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./product.vue?vue&type=template&id=02c98ea1&\"\nimport script from \"./product.vue?vue&type=script&lang=js&\"\nexport * from \"./product.vue?vue&type=script&lang=js&\"\nimport style0 from \"./product.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/Rope/master/Desktop/mix-mall/cli_ShoppingMall/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('02c98ea1')) {\n      api.createRecord('02c98ea1', component.options)\n    } else {\n      api.reload('02c98ea1', component.options)\n    }\n    module.hot.accept(\"./product.vue?vue&type=template&id=02c98ea1&\", function () {\n      api.rerender('02c98ea1', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/pages/goodss/product/product.vue\"\nexport default component.exports","export * from \"-!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--15-0!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=template&id=02c98ea1&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { createNamespacedHelpers } from \"vuex\";\nimport Share from \"@/components/Share/Share\";\nconst { mapState, mapActions } = createNamespacedHelpers(\"storeCommodity\");\nexport default {\n    data() {\n        return {\n            specClass: \"none\",\n            specSelected: {},\n            favorite: true,\n            shareList: [],\n            imgList: [],\n            selected: \"请选择规格: \",\n            popup: {\n                logoImg: \"\",\n                name: \"\",\n                salesPrice: \"\",\n                specChildList: [],\n                haveChosen: \"\",\n                marketPrice: \"\"\n            },\n            commodityInfo: {\n                title: \"\",\n                first: \"\",\n                disacount: \"\",\n                third: \"\",\n                supplyType: \"\"\n            },\n            desc: \"\",\n            isPopup: \"specs\",\n            purchaseQuantity: 1,\n            isGoods: false,\n\t\t\tisGoodsTxt: \"确定\",\n            forElection:[],\n            commentListItem:null,\n            isImmediately:\"\"\n        };\n    },\n    components: {\n        Share\n    },\n    async onLoad(options) {\n        // 商品信息\n        this.goodsId = options.id;\n        this.$request.GET({\n                url: this.$api.apiUrl.GET_GOODS_INFO,\n                data: {\n                    id: options.id\n                }\n            }).then(res => {\n                if (res.code === 200) {\n                    let result = res.data;\n                    // 轮播图\n                    this.imgList = result.slider_img.map((item, index) => ({\n                        src: item\n                    }));\n                    // 商品信息\n                    this.commodityInfo = {\n                        title: result.title,\n                        first: result.price.first,\n                        disacount: result.price.disacount,\n                        third: result.price.third,\n                        supplyType: result.supply_type\n                    };\n                    // 规格信息\n                    this.specSelected = result.goods_spec;\n                    // 弹出层信息\n                    this.popup = {\n                        logoImg: result.logo_img,\n\t\t\t\t\t\t\t\t\t\t\t\tspec:result.spec,\n                        marketPrice: result.price.first,\n                        purchasePrice: result.price.third,\n                        salesPrice: result.price.second,\n                        specChildList: Object.keys(result.goods_spec).map(\n                            (item, index) => {\n                                return {\n                                    id: index,\n                                    names: item,\n                                    name: result.goods_spec[item].map(item => ({name:item,selected:false})),\n                                    allName: item,\n                                    itemId: result.id\n                                };\n                            }\n                        ),\n                        haveChosen: \"\"\n                    };\n                    // 图文介绍\n                    this.desc = `<div style=\"width:100%\">${result.content.replace(\n                        /<img/g,\n                        \"<img class='imgWidth'\"\n                    )}</div>`;\n                } else {this.$api.msg(res.msg)}\n            });\n        // 商品评论\n        this.$request.GET({\n            url: this.$api.apiUrl.GET_GOODS_COMMENT,\n            data: {\n                id: options.id,\n                page: 1\n            }\n        }).then(res => {\n            if(res.data.length){\n                this.commentListItem = res.data[0]\n            }\n        });\n        // 可分享当前页面   \n        uni.showShareMenu({\n            withShareTicket:true,\n        });\n    },\n    methods: {\n        // 规格弹窗开关\n        toggleSpec(popup) {\n            this.isPopup = popup;\n            if (this.specClass === \"show\") {\n                this.specClass = \"hide\";\n                setTimeout(() => {\n                    this.specClass = \"none\";\n                }, 250);\n            } else if (this.specClass === \"none\") {\n                this.specClass = \"show\";\n            }\n        },\n        // 如果选规格的时候没有选\n        toggleSpecSpecial() {           \n            if (this.selected === \"请选择规格: \") {\n\t\t\t    this.$api.msg(\"请选择规格\")\n                return false;\n            } else if(this.findIsSelected().length!=this.popup.specChildList.length){\n                this.$api.msg(\"请选择\"+this.forElection[0])\n            }else{\n\t\t\t\tthis.toggleSpec();\n                this.addCart(this.isImmediately ? 'immediately' : '');\n\t\t\t}\n        },\n        // 选择规格\n        selectSpec(item, index, name, nameIndex) {\n            // 设置两个显示文本状态\n            this.selected = \"已选: \";\n            // 选中颜色\n            const list = this.popup.specChildList;\n            list.forEach((item,listIndex) => {\n                item.name.forEach((item2,listIndex2)=>{\n                    // 如果选择中的名字相等\n                    if(item2 === name){\n                        this.$set(this.popup.specChildList[listIndex].name[listIndex2], 'selected', true);\n                    }else if(listIndex===index){\n                        // 只清除同一个数组中的样式\n                        this.$set(this.popup.specChildList[listIndex].name[listIndex2], 'selected', false);\n                    }\n                })\n            });\n            // 点击更改选中了那些文字\n            const resultArr = this.findIsSelected();\t\t\t\t\t\t\n            this.popup.haveChosen = resultArr.join(\",\");\n\n            // 查看哪些没选中\n            const beDetectedArr = resultArr.map(item=>item.split(\":\")[0]);\n            const testingArr = list.map(item => item.allName)\n            function diff(arr1, arr2) {\n                        var newArr1 = [];\n                        var newArr2 = [];\n                        // Same, same; but different.\n                        newArr1 = arr1.filter(function(e){\n                            return arr2.indexOf(e)==-1;\n                        });\n                        newArr2 = arr2.filter(function(e){\n                            return arr1.indexOf(e)==-1;\n                        });\n                        return newArr1.concat(newArr2);\n            }\n            var result = diff(beDetectedArr, testingArr);\n            this.forElection = result;\n            if(result.length){\n                for (let i = 0; i < result.length; i++) {\n                    const element = result[i];\n                    this.$set(this.popup,\"haveChosen\",this.popup.haveChosen + \" 请选择: \" + element)\n                }\n            }\t\t\t\t\t\t\n            // 查看是否有库存\n            if(this.findIsSelected().length === list.length){\n\t\t\t\t\t\t\tthis.$request.POST({\n                    url: this.$api.apiUrl.POST_GOODS_STOCK,\n                    data: {\n                        id: item.itemId,\n                        spec: this.findIsSelected().join(\",\")\n                    }\n                }).then(res => {\n                    if(res.code === 200){\n                         // 设置商品价格\n                        this.$set(this.popup,\"marketPrice\",res.data.market_price)     \n                        this.$set(this.popup,\"purchasePrice\",res.data.purchase_price)         \n                        this.$set(this.popup,\"salesPrice\",res.data.sales_price)         \n                        if(res.code === -1 || res.data.stock <= 0){\n                            this.isGoods = true;\n                            this.isGoodsTxt = \"暂无库存\";\n                        }else{\n                            this.isGoods = false;\n                            this.isGoodsTxt = \"确定\";\n                        }\n                    }else{\n                        this.isGoods = true;\n                        this.isGoodsTxt = res.msg;\n                    }\n                });\n\t\t\t}\n        },\n        // 分享\n        share() {\n            this.$refs.share.toggleMask();\n        },\n        // 收藏\n        toFavorite() {\n            this.favorite = !this.favorite;\n        },\n        buy() {\n            // uni.navigateTo({\n            //     url: \"/pages/mys/login/login\"\n            // });\n        },\n\t\tstopPrevent() {},\n\t\t// 分享\n        forward() {\n           this.$api.msg(\"可通过右上角进行分享\")\n\t\t\t\t},\n        // 增加于删除按钮\t\t\t\t\n        changeQuantity(mathematicalSymbols) {\n            if (mathematicalSymbols === \"+\") {\n                this.purchaseQuantity++;\n            } else if (this.purchaseQuantity > 1) {\n                this.purchaseQuantity--;\n            }\n\t\t},\n\t    // 检测输入框输入\n        detectionValue(e) {\n            const num = e.detail.value;\n            if (num === \"\") {\n                // 如果输入为空\n                this.purchaseQuantity = 1;\n                return 1;\n            } else {\n                // 判断值是否小于0或者是小数\n                var r = /^\\+?[1-9][0-9]*$/;\n                if (r.test(num)) {\n                    this.purchaseQuantity = num;\n                    return num;\n                } else {\n                    // 如果数值不符合:大于0,并且是正整数\n                    this.purchaseQuantity = 1;\n                    return 1;\n                }\n            }\n        },\n      addCart(immediately) {\n        // 是否是立即购买\n        if(immediately === 'immediately'){\n            this.isImmediately = '/true'\n        }else{\n            this.isImmediately = ''\n        }\n        if(this.selected === \"请选择规格: \"){\n            this.toggleSpec(\"specs\")\n        }else{\n            // 是否登录\n            this.navToLogin();\n            // 查看是否认证\n            this.$request.GET({\n                url:this.$api.apiUrl.GET_USER_AUTH_STATUS\n            }).then(res=>{\n                if(res.code === 200){\n                    // 查找选择到的id\n                    const result = this.popup.spec.find(item => {\n                        return item.name === this.findIsSelected().join(\",\")\n                    })\n                    this.$request.POST({\n                        url: this.$api.apiUrl.POST_SAVE_CART+this.isImmediately,\n                        data: {\n                            goods_id: this.goodsId,\n                            spec_id: result.id,\n                            goods_num: this.purchaseQuantity,\n                            is_page: \"product\"\n                        }\n                    }).then(res => {\n                        this.$api.msg(res.msg)\n                        if(this.isImmediately){\n                            uni.showLoading({\n                                title:\"正在跳转到订单页面\",\n                                success:()=>{\n                                    uni.navigateTo({\n                                        url:\"/pages/carts/buy/buy\",\n                                        success:()=>{\n                                            uni.hideLoading()\n                                        }\n                                    })\n                                }\n                            })\n                        }\n                    });\n                }else{\n                    this.$api.msg(\"请登录,并认证\")\n                }\n            })\n\n        }\n        },\n        // 查找哪些被选中了\n        findIsSelected(){\n            let list = this.popup.specChildList;\n                let arr = [];\n                for (let i = 0; i < list.length; i++) {\n                    const element = list[i].name;\n                        for (let k = 0; k < element.length; k++) {\n                            const element2 = element[k];\n                            if(element2.selected){\n                                arr.push(list[i].allName+\":\"+element2.name)\n                            }\n                        }\t\t\t\t\t\t\t\n                }\t\t\t\t\t\t\n                return arr\n        },\n        navToLogin(){\n        // 页面鉴权\n        const TOKEN = uni.getStorageSync('access_token');\n            if (!TOKEN){\n                uni.navigateTo({\n                    url:\"/pages/mys/login/login\",\n                })\n            }\n        },\n        toEvaluatePage(){\n            uni.navigateTo({\n                url:`/pages/goodss/evaluate/evaluate?id=${this.goodsId}`\n            })\n        }\n    }\n};\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}