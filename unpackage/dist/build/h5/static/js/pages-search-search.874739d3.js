(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-search-search"],{"02c2":function(t,i,o){"use strict";o.r(i);var e=o("50d6"),r=o("c073");for(var n in r)"default"!==n&&function(t){o.d(i,t,function(){return r[t]})}(n);o("8b82");var a=o("2877"),_=Object(a["a"])(r["default"],e["a"],e["b"],!1,null,"5a0fb028",null);i["default"]=_.exports},"0b08":function(t,i,o){"use strict";var e=o("288e");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r=e(o("e814"));o("55dd");var n=e(o("cebc")),a=o("2f62"),_=o("6961"),s=(0,a.createNamespacedHelpers)("storeOne"),d=s.mapState,c=s.mapActions,m={data:function(){return(0,n.default)({},d(["brand_info","sort_info"]),{private_info:{private_brand_info:[],private_sort_info:[]},brand:{is_brand_open:!1,current:null,brand:0},sort:{is_sort_open:!1,sort_current:null,sort_brand_id:0},private_search_info:[],req_search_info_page:1,no_data:!0,search_input:""})},components:{SortList:_.SortList},onLoad:function(){var t=this;this.req_search_info(),this.BRAND_INFO({url:"/v4/goods/brand_list",data:{tags_id:0,num:200}}).then(function(i){t.private_info.private_brand_info=i.data.slice(0,8)}),this.sort_list()},onReachBottom:function(){if(!this.no_data)return!1;this.req_search_info_page++,this.req_search_info()},onNavigationBarSearchInputChanged:function(t){this.search_button(t)},onNavigationBarButtonTap:function(){this.search_dataInfo()},methods:(0,n.default)({},c(["SEARCH_INFO","BRAND_INFO","SORT_LIST"]),{search_dataInfo:function(){var t=this;this.$request.POST({url:"/v4/goods/goods_list",data:{tags_id:0,brand_id:this.brand.brand_id,cate_id:this.sort.sort_brand_id,goods_name:this.search_input,page:1,num:10}}).then(function(i){t.private_search_info=i.data})},search_button:function(t){this.search_input=t.text},open:function(t){switch(t._name){case"品牌":!1===this.brand.is_brand_open?this.private_info.private_brand_info=this.brand_info():this.private_info.private_brand_info=this.brand_info().slice(0,8),this.brand.is_brand_open=!this.brand.is_brand_open;break;case"分类":!1===this.sort.is_sort_open?this.private_info.private_sort_info=this.sort_info():this.private_info.private_sort_info=this.sort_info().slice(0,8),this.sort.is_sort_open=!this.sort.is_sort_open;break;default:return!1}},brand_choice:function(t){var i=t.index,o=t.event,e=t.title;if("品牌"===e)this.brand.current===i?(this.brand.current=null,this.brand.brand_id=0):(this.brand.current=i,this.brand.brand_id=(0,r.default)(o.currentTarget.dataset.id)),this.sort.sort_current=null,this.sort.sort_brand_id=0,this.sort_list();else{if("分类"!==e)return!1;this.sort.sort_current===i?(this.sort.sort_current=null,this.sort.sort_brand_id=0):(this.sort.sort_current=i,this.sort.sort_brand_id=(0,r.default)(o.currentTarget.dataset.id))}this.req_search_info_page=1,this.private_search_info=[],this.no_data=!0,this.req_search_info()},req_search_info:function(){var t=this;this.SEARCH_INFO({url:"/v4/goods/goods_list",data:{tags_id:0,brand_id:this.brand.brand_id,cate_id:this.sort.sort_brand_id,num:10,page:this.req_search_info_page,goods_name:this.search_input}}).then(function(i){i?(i.data.length<10&&(t.no_data=!1),t.private_search_info=t.private_search_info.concat(i.data)):t.no_data=!1})},sort_list:function(){var t=this;this.SORT_LIST({url:"/v4/goods/cate_list",data:{tags_id:0,brand_id:this.brand.brand_id,num:200}}).then(function(i){t.private_info.private_sort_info=i.data.slice(0,8)})},goodsInfo:function(t){uni.navigateTo({url:"/pages/product/product?id=".concat(t)})}})};i.default=m},"2f21":function(t,i,o){"use strict";var e=o("79e5");t.exports=function(t,i){return!!t&&e(function(){i?t.call(null,function(){},1):t.call(null)})}},"50d6":function(t,i,o){"use strict";var e=function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("v-uni-view",[o("SortList",{attrs:{title:"品牌",private_info:t.private_info.private_brand_info,current:t.brand.current,is_brand_open:t.brand.is_brand_open},on:{brand_choice:function(i){i=t.$handleEvent(i),t.brand_choice(i)},open:function(i){i=t.$handleEvent(i),t.open(i)}}}),o("SortList",{attrs:{title:"分类",private_info:t.private_info.private_sort_info,current:t.sort.sort_current,is_brand_open:t.sort.is_sort_open},on:{open:function(i){i=t.$handleEvent(i),t.open(i)},brand_choice:function(i){i=t.$handleEvent(i),t.brand_choice(i)}}}),o("v-uni-view",{staticClass:"commodity"},t._l(t.private_search_info,function(i,e){return o("v-uni-view",{key:e,staticClass:"commodity_item",attrs:{"data-id":i.id},on:{click:function(o){o=t.$handleEvent(o),t.goodsInfo(i.id)}}},[o("v-uni-image",{staticClass:"commodity_item_left",attrs:{src:i.logo_img}}),o("v-uni-view",{staticClass:"commodity_item_right"},[o("v-uni-view",{staticClass:"commodity_item_right_top"},[t._v(t._s(i.name))]),o("v-uni-view",{staticClass:"commodity_item_right_center"},[o("v-uni-view",{staticClass:"commodity_item_right_center_top"},[o("v-uni-text",{staticClass:"commodity_item_right_center_top_left"},[t._v("￥"+t._s(i.first))]),o("v-uni-view",{staticClass:"commodity_item_right_center_top_right"},[t._v(t._s(i.disacount)+"折")])],1),o("v-uni-view",{staticClass:"commodity_item_right_center_bottom"},[t._v("￥"+t._s(i.third))])],1),o("v-uni-view",{staticClass:"commodity_item_right_bottom"},[o("v-uni-view",{staticClass:"commodity_item_right_bottom_left"},[t._v("精选")]),o("v-uni-view",{staticClass:"commodity_item_right_bottom_right"},[t._v(t._s(i.supply_type))])],1)],1)],1)}),1),o("UniLoadMore",{attrs:{status:t.no_data?"loading":"noMore"}})],1)},r=[];o.d(i,"a",function(){return e}),o.d(i,"b",function(){return r})},"52d0":function(t,i,o){i=t.exports=o("2350")(!1),i.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */.commodity[data-v-5a0fb028]{width:100%}.commodity .commodity_item[data-v-5a0fb028]{width:100%;height:%?240?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border-top:2px solid #eee}.commodity .commodity_item .commodity_item_left[data-v-5a0fb028]{width:30%;height:%?240?%}.commodity .commodity_item .commodity_item_right[data-v-5a0fb028]{width:70%;position:relative;padding-left:%?10?%}.commodity .commodity_item .commodity_item_right .commodity_item_right_top[data-v-5a0fb028]{width:100%;height:%?80?%;font-size:14px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.commodity .commodity_item .commodity_item_right .commodity_item_right_bottom[data-v-5a0fb028]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:absolute;left:%?10?%;bottom:%?15?%}.commodity .commodity_item .commodity_item_right .commodity_item_right_bottom .commodity_item_right_bottom_left[data-v-5a0fb028],.commodity .commodity_item .commodity_item_right .commodity_item_right_bottom .commodity_item_right_bottom_right[data-v-5a0fb028]{font-size:12px;border-radius:5px;padding:%?3?% %?10?%}.commodity .commodity_item .commodity_item_right .commodity_item_right_bottom .commodity_item_right_bottom_left[data-v-5a0fb028]{margin-right:10px;border:1px solid #ec5a50;color:#ec5a50}.commodity .commodity_item .commodity_item_right .commodity_item_right_bottom .commodity_item_right_bottom_right[data-v-5a0fb028]{border:1px solid #00840f;color:#00840f}.commodity .commodity_item .commodity_item_right .commodity_item_right_center .commodity_item_right_center_top[data-v-5a0fb028]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.commodity .commodity_item .commodity_item_right .commodity_item_right_center .commodity_item_right_center_top .commodity_item_right_center_top_left[data-v-5a0fb028]{color:#ec6350;font-weight:600;font-size:16px}.commodity .commodity_item .commodity_item_right .commodity_item_right_center .commodity_item_right_center_top .commodity_item_right_center_top_right[data-v-5a0fb028]{color:red;height:%?35?%;font-weight:400;font-size:13px;border:1px solid red;margin:%?5?% 0 0 %?25?%;line-height:%?30?%}.commodity .commodity_item .commodity_item_right .commodity_item_right_center .commodity_item_right_center_bottom[data-v-5a0fb028]{font-size:15px;color:#a5a5a5;text-decoration:line-through}',""])},"55dd":function(t,i,o){"use strict";var e=o("5ca1"),r=o("d8e8"),n=o("4bf8"),a=o("79e5"),_=[].sort,s=[1,2,3];e(e.P+e.F*(a(function(){s.sort(void 0)})||!a(function(){s.sort(null)})||!o("2f21")(_)),"Array",{sort:function(t){return void 0===t?_.call(n(this)):_.call(n(this),r(t))}})},"8b82":function(t,i,o){"use strict";var e=o("e90b"),r=o.n(e);r.a},c073:function(t,i,o){"use strict";o.r(i);var e=o("0b08"),r=o.n(e);for(var n in e)"default"!==n&&function(t){o.d(i,t,function(){return e[t]})}(n);i["default"]=r.a},e90b:function(t,i,o){var e=o("52d0");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var r=o("4f06").default;r("72bf4b55",e,!0,{sourceMap:!1,shadowMode:!1})}}]);